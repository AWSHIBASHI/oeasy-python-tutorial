---
show: step
version: 1.0
enable_checker: true
---

# 返回值

## 回忆

- 上次我们了解了 函数返回值
	- 函数可以返回字符串
	- 也可以返回整型变量
	- 甚至可以返回NoneType类型的None
	- 啥都不返回
		- 其实最终也返回了个None
- 在函数中遇到了return
	- 直接就返回了
	- 后面的东西全被短路
	- 什么是短路来着？？🤔

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676450113463)

### 短路

- 在有水的时候
	- 电路走的是水滴这条路
	- 灯泡被短路
	- 电池被烧坏

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676448440390)

- 这种现象就是短路

### 在逻辑判断中的短路

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676450224422)

- or 左边出现True
- and 左边出现False
- 就会将 右边短路

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676447633140)

- 当时使用 print函数验证了一下

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676447995074)

- 现在可以自己定义函数来验证短路的规律吗？
	- 不要翻页 
	- 试着自己定义验证函数

### 自定义函数

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676450443950)

- 函数已经定义好了

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676450491972)

- 如何验证呢？

### 验证and

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676450561559)

- 确实add左边为False的时候
	- 右边部分
		- 直接被短路

### 验证 or

- or左边为True的时候
	- 右边部分
		- 直接被短路

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676450766420)

- 从汇编角度如何理解函数呢?

### 汇编理解
![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660007186964)

- 不满足条件就红色跳转
- 满足条件就直接 往下弹栈走人
- 函数中定义的那些局部变量后来怎么样了？

### 局部变量

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220811-1660184377579)

- a、b、c不是返回值
- 在函数返回之后
- 如何了呢？
- 从汇编角度观察

### 汇编角度

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220811-1660206201470)

- 调用的时候
	- 会把当前调用的的地址压到函数栈中
	- 然后从f函数的开始进行调用
	- 内部的这些a、b、c
	- 都是int型的变量
	- 会指向相应的小数据池
	- 函数结束后
	- 这些int型变量的引用数减1
	- 程序播放头跳回到调用的位置继续执行
- 这些是中间过程
- 不是最终需要的东西

### 过程变量

- 随着函数过程的结束

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220811-1660206482960)

- 这些中间过程中产生的变量
- 也就消失不见
- 内存也被释放了

### 总结

- 我们这次了解了函数返回值
- 函数可以返回字符串
- 也可以返回整型变量
- 甚至可以返回NoneType类型的None
- 啥都不返回
- 其实最终也返回了个None
- 函数必须返回
- 我们能做点好玩的函数么？🤔
- 我们下次再说👋