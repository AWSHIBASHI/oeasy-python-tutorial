---
show: step
version: 1.0
enable_checker: true
---

# 变量定义

## 回忆上次内容

- 变量就是能变的量
- 这次讲了是变量的标识符的规则
	- 第一个字符应该是字母或下划线
	- 合法的标识符可以包括大小写字母、数字、下划线
- 我们还了解了一系列函数
	- 如何查询字符串是否为合法标识符
		- isidentifier
- 最后发现这个isidentifier函数失灵了？

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676466530747)

- 这怎么理解呢？？🤔

### 翻看文档

- and 属于关键字

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676466603815)

- 关键字 是不能作为标识符的

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676466646694)

- 经常会看到下划线
	- 这些下划线如何理解？

### 下划线

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676466769187)

- from module import * 时	
	- 以下划线开头的变量
		- 不被其他模块引用
- 所以 _a 可以作为模块内部的变量或者函数

### 内部变量

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676467557384)

- 指清名字 _pi
	- 是可以导入的

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676467575543)

- from random import *
	- 无法导入_e

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676467649324)

### 上次的值

- 在游乐场里
	- _下划线 意味着上次的值

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676466814549)



### 后面的下划线

- 在后面加上下划线
	- 一般是为了区分已经有的标识符

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676467043077)

### 两端双下划线(dunder)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676467102637)

- 系统定义的标识符
	- 模块名
	- 函数名
	- 变量名
 
![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676467334939)

### 前有双下划线

- 类里面的私有名
	- 无法直接存取
- 目的是
	- 避免 和 父类或子类的私有变量 重名

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676467830217)

- 我们再来看看 o 这个变量标识符

### 细节

- `o` 两边并不加引号
  - 因为我们这里的 `o` 是变量
  - 而不是字符串
  - 如果加了双引号就是字符串了

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210815-1628994519509)

- 在等号两端都保留有一个空格
  - 增加文档的可读性
  - 这`不会`影响程序的执行速度
  - 可是为什么要加空格呢？

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210815-1628995013547)

- 这两句话从何说起

### 加空格的原因

- 这两句话来自于python之禅

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221029-1667036051528)

- 现在到底有多少变量呢？

### locals()

- 查询本地变量
- 有一个内置的函数叫做 locals

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210815-1629012200562)

- 可以查询关于 locals 的帮助

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210815-1629012206686)

- 返回的是一个包含当前域中所有变量的字典
- 声明和赋值都使用等号
	- 声明并赋值 变量o 之后
	- 变量o 真的在内存里有位置了么？
- 我们来看看

### 具体位置

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210815-1628995186862)

- id函数是什么意思？
	- help(id)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210815-1628995236339)

- o确实在内存中有了位置
	- 但是如果我们给变量新赋一个值
- 那么存储变量的位置
	- 还是那个内存地址么？

### 实践

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220724-1658632914887)

- 虽然a这个变量名没有变
	- 但是id(a)变了
	- 也就是说a所在的容器内存位置没变
- 但是a所指向的变量位置
	- 在内存中的位置变了
- 都是STORE到a这个NAME里面
- 第二次赋值和第一次有什么区别吗？

### 区别

- 变量的声明和赋值究竟有什么不同
  - 第一次赋值时
	- 声明和赋值是同时完成的

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220208-1644304396432)

- 如果是纯赋值是如何的呢？

### 纯赋值

- 声明了之后
  - 再有等号赋值就是纯赋值了

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220208-1644304691797)



## 总结

- 这次了解了isidentifier的细节
	- 关于关键字
	- 关于下划线
- 还有如何查询变量所指向的地址
		- id
	- 如何查询已有的各种变量？
	  - locals
- 如果用一个变量a的值
	- 给另一个变量b赋值
	- 是什么样的过程呢？？🤔
- 我们下次再说！👋
